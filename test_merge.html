<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.js" integrity="sha256-iAuxnf8Cwr0yrQkpf6oQG4PaL/oVmoer6V/RfX2KQws=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js" integrity="sha256-VeNaFBVDhoX3H+gJ37DpT/nTuZTdjYro9yBruHjVmoQ=" crossorigin="anonymous"></script>
<script src="/lib/load_csse.js"></script>
<script src="/lib/load_flat_cds.js"></script>
<script src="/lib/utils.js"></script>
<script src="/lib/flatten_csse.js"></script>
<script src="/lib/usa_state_list.js"></script>
<script src="/lib/locations.js"></script>
<script src="/lib/merge_feeds.js"></script>
</head>
<body>
<pre>
</pre>
<script>
var merged, cds, csse;
Promise.all([
  flatten_promise(load_csse_data()).catch(e => {}),
  load_flat_cds_data().catch(e => {}),
]).then(x => {
  [csse, cds] = x;
  merged = merge_feeds(csse || {}, cds || {});
  document.querySelector('pre').innerText +=
    'Loaded csse with ' + _.size(csse) + ' localities\n' +
    'and cds with ' + _.size(cds) +' localities\n' +
    'and merged with ' + _.size(merged) +' localities';
});
</script>

